<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.22">
<title>Digital Image Processing - Exercícios</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/styles/github.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Digital Image Processing - Exercícios</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#_unidade_1">Unidade 1</a>
<ul class="sectlevel1">
<li><a href="#_1_manipulando_pixels_de_uma_imagem">1. Manipulando pixels de uma imagem</a>
<ul class="sectlevel2">
<li><a href="#_1_1_negativo">1.1. Negativo</a></li>
<li><a href="#_1_2_troca_de_regiões">1.2. Troca de regiões</a></li>
</ul>
</li>
<li><a href="#_2_serialização_de_dados_em_ponto_flutuante_via_filestorage">2. Serialização de dados em ponto flutuante via FileStorage</a></li>
<li><a href="#_3_decomposição_de_imagens_em_planos_de_bits">3. Decomposição de imagens em planos de bits</a>
<ul class="sectlevel2">
<li><a href="#_3_1_esteganografia_em_imagens_digitais">3.1 Esteganografia em imagens digitais</a></li>
</ul>
</li>
<li><a href="#_4_preenchendo_regiões">4. Preenchendo regiões</a>
<ul class="sectlevel2">
<li><a href="#_4_1_removendo_os_objetos_das_bordas_da_imagem">4.1. Removendo os objetos das bordas da imagem</a></li>
<li><a href="#_4_2_pintando_o_fundo_com_outro_tom_de_cinza">4.2. Pintando o fundo com outro tom de cinza</a></li>
<li><a href="#_4_3_contagem_dos_objetos_presentes_na_imagem">4.3. Contagem dos objetos presentes na imagem</a></li>
<li><a href="#_4_4_contagem_dos_buracos_e_resultado_final">4.4. Contagem dos buracos e resultado final</a></li>
</ul>
</li>
<li><a href="#_5_manipulação_de_histogramas">5. Manipulação de histogramas</a>
<ul class="sectlevel2">
<li><a href="#_5_1_equalizador">5.1 Equalizador</a></li>
<li><a href="#_5_2_detector_de_movimento">5.2 Detector de movimento</a></li>
</ul>
</li>
<li><a href="#_6_filtragem_no_domínio_espacial_i">6. Filtragem no domínio espacial I</a>
<ul class="sectlevel2">
<li><a href="#_6_1_laplaciano_do_gaussiano">6.1 Laplaciano do gaussiano</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Hi there! Meu nome é Reilta. E esta página contém a resolução dos exercícios propostos na disciplina de Processamento Digital de Imagens - DCA0445 na Universidade Federal do Rio Grande do Norte (UFRN). As resoluções foram desenvolvidas utilizando a biblioteca OpenCV na liguagem C++.</p>
</div>
</div>
</div>
<h1 id="_unidade_1" class="sect0">Unidade 1</h1>
<div class="sect1">
<h2 id="_1_manipulando_pixels_de_uma_imagem">1. Manipulando pixels de uma imagem</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_1_1_negativo">1.1. Negativo</h3>
<div class="paragraph">
<p>Utilizando o <a href="https://agostinhobritojr.github.io/tutorial/pdi/exemplos/pixels.cpp">programa indicado</a> como referência, foi desenvolvido um programa que solicita ao usuário as coordenadas de dois pontos \(P_1\) e \(P_2\), definindo um retângulo de vétices opostos no qual indica uma região da imagem para se tornar negativa.</p>
</div>
<div id="regions" class="listingblock">
<div class="title">regions.cpp</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">#include &lt;iostream&gt;
#include &lt;opencv2/opencv.hpp&gt;

int main(int, char** argv){
  cv::Mat image;
  cv::Vec3b val;
  int x1,x2;
  int y1,y2;

  image= cv::imread(argv[1],cv::IMREAD_COLOR);
  if(!image.data)
    std::cout &lt;&lt; "nao abriu a imagem." &lt;&lt; std::endl;

  cv::namedWindow("janela", cv::WINDOW_AUTOSIZE);

  std::cout&lt;&lt;"Insira a coordenada do ponto 1:"&lt;&lt; std::endl;
  std::cin&gt;&gt;x1&gt;&gt;y1;
  std::cout&lt;&lt;"Insira a coordenada do ponto 2:"&lt;&lt; std::endl;
  std::cin&gt;&gt;x2&gt;&gt;y2;

  for(int i=x1;i&lt;x2;i++){ //150 to 300
    for(int j=y1;j&lt;y2;j++){ //250 to 1300
      image.at&lt;uchar&gt;(i,j)= 255 - image.at&lt;uchar&gt;(i,j);
    }
  }


  cv::imshow("janela", image);
  cv::imwrite("negative.png", image);
  cv::waitKey();
  return 0;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Imagem original:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/totoro.png" alt="totoro">
</div>
</div>
<div class="paragraph">
<p>Imagem com o efeito negativo aplicado na região escolhida:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/negative.png" alt="negative">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_1_2_troca_de_regiões">1.2. Troca de regiões</h3>
<div class="paragraph">
<p>Com o mesmo <a href="https://agostinhobritojr.github.io/tutorial/pdi/exemplos/pixels.cpp">programa</a> utilizado como referência no exercício anterior, foi implementado a funcionalidade de trocar os quadrantes na diagonal. Basicamente a imagem foi dividida em 4 imagens, cada uma representando a região de um quadrante e depois foram aplicadas em uma imagem vazia, os quadrantes trocados diagonalmente.</p>
</div>
<div class="paragraph">
<p>Imagem original:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/13thdoctor.png" alt="13thdoctor">
</div>
</div>
<div class="paragraph">
<p>Imagem com os quadrantes trocados em diagonal:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/inverted.png" alt="inverted">
</div>
</div>
<div id="trocaregions" class="listingblock">
<div class="title">trocaregions.cpp</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">#include &lt;iostream&gt;
#include &lt;opencv2/opencv.hpp&gt;

int main(int, char** argv){
  cv::Mat image;
  cv::Mat reg1, reg2, reg3, reg4;

  image= cv::imread(argv[1],cv::IMREAD_COLOR);
  if(!image.data)
    std::cout &lt;&lt; "nao abriu a imagem." &lt;&lt; std::endl;

  cv::namedWindow("original", cv::WINDOW_AUTOSIZE);

  cv::imshow("original", image);
  cv::waitKey();

  reg1 = image(cv::Rect(0,0,image.rows/2,image.cols/2));
  reg2 = image(cv::Rect(image.rows/2,0,image.rows/2,image.cols/2));
  reg3 = image(cv::Rect(0,image.cols/2,image.rows/2,image.cols/2));
  reg4 = image(cv::Rect(image.rows/2,image.cols/2,image.rows/2,image.cols/2));

  cv::Mat inverted(image.rows,image.cols,image.type());

  reg4.copyTo(inverted(cv::Rect(0,0,image.rows/2,image.cols/2)));
  reg3.copyTo(inverted(cv::Rect(image.rows/2,0,image.rows/2,image.cols/2)));
  reg2.copyTo(inverted(cv::Rect(0,image.cols/2,image.rows/2,image.cols/2)));
  reg1.copyTo(inverted(cv::Rect(image.rows/2,image.cols/2,image.rows/2,image.cols/2)));


  cv::imshow("inverted regions", inverted);
  cv::imwrite("inverted.png", inverted);
  cv::waitKey();
  return 0;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2_serialização_de_dados_em_ponto_flutuante_via_filestorage">2. Serialização de dados em ponto flutuante via FileStorage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Utilizando o <a href="https://agostinhobritojr.github.io/tutorial/pdi/exemplos/filestorage/filestorage.cpp">programa-exemplo</a> como base, foi implementado um programa que gera uma imagem de dimensões 256x256 pixels contendo uma senóide de 4 períodos com amplitude igual 127 desenhada na horizontal.</p>
</div>
<div class="paragraph">
<p>Imagem gerada:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/senoide-256.png" alt="senoide 256">
</div>
</div>
<div id="filestorage" class="listingblock">
<div class="title">filestorage.cpp</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">#include &lt;iostream&gt;
#include &lt;opencv2/opencv.hpp&gt;
#include &lt;sstream&gt;
#include &lt;string&gt;

int SIDE = 256;
int PERIODOS = 4;

int main(int argc, char** argv) {
  std::stringstream ss_img, ss_yml;
  cv::Mat image;

  ss_yml &lt;&lt; "senoide-" &lt;&lt; SIDE &lt;&lt; ".yml";
  image = cv::Mat::zeros(SIDE, SIDE, CV_32FC1);

  cv::FileStorage fs(ss_yml.str(), cv::FileStorage::WRITE);

  for (int i = 0; i &lt; SIDE; i++) {
    for (int j = 0; j &lt; SIDE; j++) {
      image.at&lt;float&gt;(i, j) = 127 * sin(2 * M_PI * PERIODOS * j / SIDE) + 128;
    }
  }

  fs &lt;&lt; "mat" &lt;&lt; image;
  fs.release();

  cv::normalize(image, image, 0, 255, cv::NORM_MINMAX);
  image.convertTo(image, CV_8U);
  ss_img &lt;&lt; "senoide-" &lt;&lt; SIDE &lt;&lt; ".png";
  cv::imwrite(ss_img.str(), image);

  fs.open(ss_yml.str(), cv::FileStorage::READ);
  fs["mat"] &gt;&gt; image;

  cv::normalize(image, image, 0, 255, cv::NORM_MINMAX);
  image.convertTo(image, CV_8U);

  cv::imshow("image", image);
  cv::waitKey();

  return 0;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_3_decomposição_de_imagens_em_planos_de_bits">3. Decomposição de imagens em planos de bits</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_3_1_esteganografia_em_imagens_digitais">3.1 Esteganografia em imagens digitais</h3>
<div class="paragraph">
<p>Usando o <a href="https://agostinhobritojr.github.io/tutorial/pdi/exemplos/bitplanes.cpp">programa fornecido</a> como referência para esteganografia, foi implementado um programa que recupera a imagem escondida em uma imagem resultante de esteganografia. Assim, os bits menos significativos dos pixels da imagem fornecida foram usado para compor os bits mais significativos dos pixels da imagem recuperada.</p>
</div>
<div class="paragraph">
<p>Imagem resultante de esteganografia que foi utilizada no exercício:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/desafio-esteganografia.png" alt="desafio esteganografia">
</div>
</div>
<div class="paragraph">
<p>Imagem original:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/original.png" alt="original">
</div>
</div>
<div class="paragraph">
<p>Imagem recuperada:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/decodificada.png" alt="decodificada">
</div>
</div>
<div id="bitplanes" class="listingblock">
<div class="title">bitplanes.cpp</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">#include &lt;iostream&gt;
#include &lt;opencv2/opencv.hpp&gt;

int main(int argc, char**argv) {
  cv::Mat imagemPortadora, imagemOriginal, imagemDecodificada;
  cv::Vec3b valPortadora, valEscondida, valOriginal;
  int nbits = 3;

  imagemPortadora = cv::imread(argv[1], cv::IMREAD_COLOR);

  if (imagemPortadora.empty()) {
    std::cout &lt;&lt; "imagem nao carregou corretamente" &lt;&lt; std::endl;
    return (-1);
  }

  imagemDecodificada = imagemPortadora.clone();
  imagemOriginal = imagemPortadora.clone();

  for (int i = 0; i &lt; imagemPortadora.rows; i++) {
    for (int j = 0; j &lt; imagemPortadora.cols; j++) {
      valPortadora = imagemPortadora.at&lt;cv::Vec3b&gt;(i, j);

      valOriginal[0] = valPortadora[0] &gt;&gt; nbits &lt;&lt; nbits;
      valOriginal[1] = valPortadora[1] &gt;&gt; nbits &lt;&lt; nbits;
      valOriginal[2] = valPortadora[2] &gt;&gt; nbits &lt;&lt; nbits;

      valEscondida[0] = valPortadora[0] &lt;&lt; (8 - nbits);
      valEscondida[1] = valPortadora[1] &lt;&lt; (8 - nbits);
      valEscondida[2] = valPortadora[2] &lt;&lt; (8 - nbits);

      imagemDecodificada.at&lt;cv::Vec3b&gt;(i, j) = valEscondida;
      imagemOriginal.at&lt;cv::Vec3b&gt;(i,j) = valOriginal;
    }
  }
  imwrite("decodificada.png", imagemDecodificada);
  imwrite("original.png", imagemOriginal);
  return 0;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_preenchendo_regiões">4. Preenchendo regiões</h2>
<div class="sectionbody">
<div class="paragraph">
<p>No <a href="https://agostinhobritojr.github.io/tutorial/pdi/exemplos/labeling/labeling.cpp">programa-exemplo</a>, caso existam mais de 255 objetos na cena, como na figura abaixo, o processo de rotulação poderá ficar comprometido por causa da limitação do tipo de dado usado para suportar imagens cinzetas, pois permite armazenar apenas um byte por pixel.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/bolhas.png" alt="bolhas">
</div>
</div>
<div class="paragraph">
<p>Assim o desafio do exercício foi aprimorar o algoritmo para realizar contagem de figuras, como bolhas, com ou sem buracos internos. E não contar bolhas que tocam as bordas da imagem.</p>
</div>
<div class="sect2">
<h3 id="_4_1_removendo_os_objetos_das_bordas_da_imagem">4.1. Removendo os objetos das bordas da imagem</h3>
<div class="paragraph">
<p>Para remover os objetos que estavam nas bordas da imagem, foi usada uma condição que se o pixel em questão for branco e estiver em contato com alguma das bordas, o algoritmo do floodfill é chamado para preencher todos os píxels brancos vizinhos por pixels pretos.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/bordas-removidas.png" alt="bordas removidas">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_4_2_pintando_o_fundo_com_outro_tom_de_cinza">4.2. Pintando o fundo com outro tom de cinza</h3>
<div class="paragraph">
<p>Para poder identificar as bolhas com buracos, o seguinte passo foi mudar a cor do brackground da imagem, este passo foi feito por uma chamada da função flooffield, utilizando o valor 100, alterando para um tom de cinza.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/background-pintado.png" alt="background pintado">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_4_3_contagem_dos_objetos_presentes_na_imagem">4.3. Contagem dos objetos presentes na imagem</h3>
<div class="paragraph">
<p>Depois é feito o labeling os objetos, as bolhas, e a contagem total. O labeling foi realizado com a função floodfill, no caso, as bolhas que eram brancas são preenchidas com um tom de cinza de acordo com a semente que é passada na função, que seria a contagem atual de bolhas.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/objetos-contados.png" alt="objetos contados">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_4_4_contagem_dos_buracos_e_resultado_final">4.4. Contagem dos buracos e resultado final</h3>
<div class="paragraph">
<p>Por fim, para contar a quantidades de buracos bastou procurar por pixels com valor 0, incrementar o contador e preencher a região com o tom branco com a função floodfill.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/buracos-contados.png" alt="buracos contados">
</div>
</div>
<div class="paragraph">
<p>No terminal é exibido o resultado obtido após a execução do algoritmo.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/console.png" alt="console">
</div>
</div>
<div id="labeling" class="listingblock">
<div class="title">labeling.cpp</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">#include &lt;iostream&gt;
#include &lt;opencv2/opencv.hpp&gt;

using namespace cv;

int main(int argc, char** argv) {
  cv::Mat image, realce;
  int width, height;
  int nobjects, nholes;

  cv::Point p;
  image = cv::imread(argv[1], cv::IMREAD_GRAYSCALE);

  if (!image.data) {
    std::cout &lt;&lt; "imagem nao carregou corretamente\n";
    return (-1);
  }

  width = image.cols;
  height = image.rows;
  std::cout &lt;&lt; width &lt;&lt; "x" &lt;&lt; height &lt;&lt; std::endl;

  p.x = 0;
  p.y = 0;

  //objetos da borda
  for(int i = 0; i &lt; height; i++){
    for(int j = 0; j &lt; width; j++){
      if(image.at&lt;uchar&gt;(i,j) == 255 &amp;&amp; (i == 0 | j == width-1 || j == 0 || i == height-1)){
        p.x = j;
        p.y = i;
        floodFill(image,p,0);
      }
    }
  }

  cv::imwrite("bordas-removidas.png", image);
  cv::imshow("objetos da bordas removidos", image);
  cv::waitKey();

  p.x = 0;
  p.y = 0;
  cv::floodFill(image,p,100);
  cv::imwrite("background-pintado.png", image);
  cv::imshow("cor do background alterada", image);
  cv::waitKey();

  // busca objetos presentes
  nobjects = 0;
  for (int i = 0; i &lt; height; i++) {
    for (int j = 0; j &lt; width; j++) {
      if (image.at&lt;uchar&gt;(i, j) == 255) {
        // achou um objeto
        nobjects++;
        // para o floodfill as coordenadas
        // x e y são trocadas.
        p.x = j;
        p.y = i;
        // preenche o objeto com o contador
        cv::floodFill(image, p, nobjects);
      }
    }
  }

  cv::imwrite("objetos-contados.png",image);
  cv::imshow("objetos contados", image);
  cv::waitKey();

  nholes = 0;
  for (int i = 0; i &lt; height; i++) {
    for (int j = 0; j &lt; width; j++) {
      if (image.at&lt;uchar&gt;(i, j) == 0) {
        // achou um buraco
        nholes++;
        // para o floodfill as coordenadas
        // x e y são trocadas.
        p.x = j;
        p.y = i;
        // preenche o objeto com o contador
        cv::floodFill(image, p, 255);
      }
    }
  }

  cv::imwrite("buracos-contados.png", image);
  cv::imshow("buracos contados", image);
  cv::waitKey();


  std::cout &lt;&lt; "a figura tem " &lt;&lt; nobjects &lt;&lt; " bolhas\n";
  std::cout&lt;&lt;" sendo "&lt;&lt; nobjects - nholes&lt;&lt; " bolhas completas e "&lt;&lt; nholes&lt;&lt; " bolhas com buracos\n";
  return 0;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_5_manipulação_de_histogramas">5. Manipulação de histogramas</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_5_1_equalizador">5.1 Equalizador</h3>
<div class="paragraph">
<p>Por meio do <a href="https://agostinhobritojr.github.io/tutorial/pdi/exemplos/histograma/histograma.cpp">programa-exemplo</a> como referência, foi implementado um programa equalize.cpp, este responsável por realizar a equalização do histograma antes de exibir a imagem para cada uma capturada.</p>
</div>
<div class="paragraph">
<p>Na implementação foi realizada a conversão da imagem capturada para tons de cinza e feita a equalização pela função cv::equalizeHist e depois o calculo dos histogramas e a normalização.</p>
</div>
<div class="paragraph">
<p>Imagem capturada:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/tenth-doc-and-the-tardis.png" alt="tenth doc and the tardis">
</div>
</div>
<div class="paragraph">
<p>Imagem equalizada:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/tenth-doc-and-the-tardis-equalized.png" alt="tenth doc and the tardis equalized">
</div>
</div>
<div id="equalize" class="listingblock">
<div class="title">equalize.cpp</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">#include &lt;iostream&gt;
#include &lt;opencv2/opencv.hpp&gt;


int main(int argc, char** argv){
  cv::Mat image, gray, imageEqualize;
  int width, height;
  int camera;
  cv::VideoCapture cap;
  std::vector&lt;cv::Mat&gt; planes;
  cv::Mat histG, histE;
  int nbins = 64;
  float range[] = {0, 255};
  const float *histrange = { range };
  bool uniform = true;
  bool acummulate = false;
  int key;

  cap.open(2);

  if(!cap.isOpened()){
    std::cout &lt;&lt; "cameras indisponiveis";
    return -1;
  }

  cap.set(cv::CAP_PROP_FRAME_WIDTH, 640);
  cap.set(cv::CAP_PROP_FRAME_HEIGHT, 480);
  width = cap.get(cv::CAP_PROP_FRAME_WIDTH);
  height = cap.get(cv::CAP_PROP_FRAME_HEIGHT);

  std::cout &lt;&lt; "largura = " &lt;&lt; width &lt;&lt; std::endl;
  std::cout &lt;&lt; "altura  = " &lt;&lt; height &lt;&lt; std::endl;

  int histw = nbins, histh = nbins/2;
  cv::Mat histImg(histh, histw, CV_8UC1, cv::Scalar(0));
  cv::Mat histImgE(histh, histw, CV_8UC1, cv::Scalar(0));


  while(1){
    cap &gt;&gt; image;

    cv::cvtColor(image, gray, cv::COLOR_BGR2GRAY);

    cv::equalizeHist(gray, imageEqualize);

    cv::calcHist(&amp;gray, 1, 0, cv::Mat(), histG, 1,
                 &amp;nbins, &amp;histrange,
                 uniform, acummulate);
    cv::calcHist(&amp;imageEqualize, 1, 0, cv::Mat(), histE, 1,
                 &amp;nbins, &amp;histrange,
                 uniform, acummulate);

    cv::normalize(histG, histG, 0, histImg.rows, cv::NORM_MINMAX, -1, cv::Mat());
    cv::normalize(histE, histE, 0, histImgE.rows, cv::NORM_MINMAX, -1, cv::Mat());

    histImg.setTo(cv::Scalar(0));
    histImgE.setTo(cv::Scalar(0));


    for(int i=0; i&lt;nbins; i++){
      cv::line(histImg,
               cv::Point(i, histh),
               cv::Point(i, histh-cvRound(histG.at&lt;float&gt;(i))),
               cv::Scalar(255), 1, 8, 0);
      cv::line(histImgE,
               cv::Point(i, histh),
               cv::Point(i, histh-cvRound(histE.at&lt;float&gt;(i))),
               cv::Scalar(255), 1, 8, 0);
    }
    histImg.copyTo(gray(cv::Rect(0, 0, nbins, histh)));
    histImgE.copyTo(imageEqualize(cv::Rect(0, histh,nbins, histh)));

    cv::imshow("gray image", gray);
    cv::imwrite("tenth-doc-and-the-tardis.png", gray);
    cv::imshow("equalized image", imageEqualize);
    cv::imwrite("tenth-doc-and-the-tardis-equalized.png", imageEqualize);

    key = cv::waitKey(30);
    if(key == 27) break;
  }
  return 0;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_5_2_detector_de_movimento">5.2 Detector de movimento</h3>
<div class="paragraph">
<p>Seguindo o código anterior como referência, foi implementado um detector de movimento para quando a diferença de um histograma com o anteriormente calculado ultrapasse um limiar pré-estabelecido indique que ocorreu movimento na cena observada.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/motion-detector-jasmin.gif" alt="motion detector jasmin">
</div>
</div>
<div id="motiondetector" class="listingblock">
<div class="title">motiondetector.cpp</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">#include &lt;iostream&gt;
#include &lt;opencv2/opencv.hpp&gt;
#include &lt;opencv2/imgproc.hpp&gt;


int main(int argc, char** argv){
  cv::Mat image, gray;
  int width, height;
  int camera;
  cv::VideoCapture cap;
  std::vector&lt;cv::Mat&gt; planes;
  cv::Mat histC, histL;
  int nbins = 64;
  float range[] = {0, 255};
  const float *histrange = { range };
  bool uniform = true;
  bool acummulate = false;
  int key;
  double compare;
  double limit = 0.99;

  cap.open(2);

  if(!cap.isOpened()){
    std::cout &lt;&lt; "cameras indisponiveis";
    return -1;
  }

  cap.set(cv::CAP_PROP_FRAME_WIDTH, 640);
  cap.set(cv::CAP_PROP_FRAME_HEIGHT, 480);
  width = cap.get(cv::CAP_PROP_FRAME_WIDTH);
  height = cap.get(cv::CAP_PROP_FRAME_HEIGHT);

  std::cout &lt;&lt; "largura = " &lt;&lt; width &lt;&lt; std::endl;
  std::cout &lt;&lt; "altura  = " &lt;&lt; height &lt;&lt; std::endl;

  int histw = nbins, histh = nbins/2;
  cv::Mat histImg(histh, histw, CV_8UC3, cv::Scalar(0,0,0));

  // Obtem a primeira imagem e cria o histograma inicial
    cap &gt;&gt; image;
    split(image, planes);
    if (image.empty()) return -1;
    cvtColor(image, gray, cv::COLOR_BGR2GRAY);
    cv::calcHist(&amp;planes[0], 1, 0, cv::Mat(), histL, 1, &amp;nbins, &amp;histrange, uniform, acummulate);
    cv::normalize(histL, histL, 0, histImg.rows, cv::NORM_MINMAX, -1, cv::Mat());

  while(1){
    cap &gt;&gt; image;

    split(image, planes);

    cv::calcHist(&amp;planes[0], 1, 0, cv::Mat(), histC, 1, &amp;nbins, &amp;histrange, uniform, acummulate);
    cv::normalize(histC, histC, 0, histImg.rows, cv::NORM_MINMAX, -1, cv::Mat());

    histImg.setTo(cv::Scalar(0));


    compare = cv::compareHist(histL, histC, cv::HISTCMP_CORREL);
    std::cout &lt;&lt; "Comparação: " &lt;&lt; compare &lt;&lt; std::endl;

     if (compare &lt; limit) {
            cv::putText(image, "Motion Detected", cv::Point(20, 40), cv::FONT_HERSHEY_SIMPLEX, 1, cv::Scalar(0, 0, 255), 2);
    }

    for(int i=0; i&lt;nbins; i++){
      line(histImg,
               cv::Point(i, histh),
               cv::Point(i, histh-cvRound(histC.at&lt;float&gt;(i))),
               cv::Scalar(255, 255, 255), 1, 8, 0);
    }


    cv::imshow("Live", image);

    key = cv::waitKey(30);
    if(key == 27) break;
    histC.copyTo(histL);  // Atualiza o histograma anterior
  }
  return 0;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_6_filtragem_no_domínio_espacial_i">6. Filtragem no domínio espacial I</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_6_1_laplaciano_do_gaussiano">6.1 Laplaciano do gaussiano</h3>
<div class="paragraph">
<p>Para este exercício foi utilizado o <a href="https://agostinhobritojr.github.io/tutorial/pdi/exemplos/convolucao/convolucao.cpp">programa-exemplo</a>, no qual foi acrescentado uma máscara 5x5 responsável pela transformação do laplaciano do gaussiano.</p>
</div>
<div class="paragraph">
<p>Imagem capturada:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/original-7.png" alt="original 7">
</div>
</div>
<div class="paragraph">
<p>Laplace aplicado na imagem e o laplace do gaussiano na imagem seguinte:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/laplace.png" alt="laplace">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/laplace-gauss.png" alt="laplace gauss">
</div>
</div>
<div class="paragraph">
<p>Observa-se que o filtro laplace do gaussiano deixa as linhas e contornos mais acentuados.</p>
</div>
<div id="laplgauss" class="listingblock">
<div class="title">laplgauss.cpp</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">#include &lt;iostream&gt;
#include &lt;opencv2/opencv.hpp&gt;

void printmask(cv::Mat &amp;m) {
  for (int i = 0; i &lt; m.size().height; i++) {
    for (int j = 0; j &lt; m.size().width; j++) {
      std::cout &lt;&lt; m.at&lt;float&gt;(i, j) &lt;&lt; ",";
    }
    std::cout &lt;&lt; std::endl;
  }
}

int main(int, char **) {
  cv::VideoCapture cap;
  int camera;
  float media[] = {0.1111, 0.1111, 0.1111, 0.1111, 0.1111,
                   0.1111, 0.1111, 0.1111, 0.1111};
  float gauss[] = {0.0625, 0.125,  0.0625, 0.125, 0.25,
                   0.125,  0.0625, 0.125,  0.0625};
  float horizontal[] = {-1, 0, 1, -2, 0, 2, -1, 0, 1};
  float vertical[] = {-1, -2, -1, 0, 0, 0, 1, 2, 1};
  float laplacian[] = {0, -1, 0, -1, 4, -1, 0, -1, 0};
  float boost[] = {0, -1, 0, -1, 5.2, -1, 0, -1, 0};
  float lapl_gauss[] = {0, 0, 1, 0, 0,
                        0, 1, 2, 1, 0,
                        1, 2, -16, 2, 1,
                        0, 1, 2, 1, 0,
                        0, 0, 1, 0, 0};

  cv::Mat frame, framegray, frame32f, frameFiltered;
  cv::Mat mask(3, 3, CV_32F);
  cv::Mat result;
  double width, height;
  int absolut;
  char key;

  camera = 2;
  cap.open(camera);

  if (!cap.isOpened())
    return -1;

  cap.set(cv::CAP_PROP_FRAME_WIDTH, 640);
  cap.set(cv::CAP_PROP_FRAME_HEIGHT, 480);

  cv::namedWindow("filtroespacial", cv::WINDOW_NORMAL);
  cv::namedWindow("original", cv::WINDOW_NORMAL);

  mask = cv::Mat(3, 3, CV_32F, media);

  absolut = 1;  // calcula absoluto da imagem

  for (;;) {
    cap &gt;&gt; frame;  // captura nova imagem da camera
    cv::cvtColor(frame, framegray, cv::COLOR_BGR2GRAY);
    cv::flip(framegray, framegray, 1);
    cv::imshow("original", framegray);
    framegray.convertTo(frame32f, CV_32F);
    cv::filter2D(frame32f, frameFiltered, frame32f.depth(), mask, cv::Point(1, 1), 0);
    if (absolut) {
      frameFiltered = cv::abs(frameFiltered);
    }

    frameFiltered.convertTo(result, CV_8U);

    cv::imshow("filtroespacial", result);

    key = (char)cv::waitKey(10);
    if (key == 27) break;  // tecla ESC pressionada!
    switch (key) {
      case 'a':
        absolut = !absolut;
        break;
      case 'm':
        mask = cv::Mat(3, 3, CV_32F, media);
        printmask(mask);
        break;
      case 'g':
        mask = cv::Mat(3, 3, CV_32F, gauss);
        printmask(mask);
        break;
      case 'h':
        mask = cv::Mat(3, 3, CV_32F, horizontal);
        printmask(mask);
        break;
      case 'v':
        mask = cv::Mat(3, 3, CV_32F, vertical);
        printmask(mask);
        break;
      case 'l':
        mask = cv::Mat(3, 3, CV_32F, laplacian);
        printmask(mask);
        break;
      case 'b':
        mask = cv::Mat(3, 3, CV_32F, boost);
        break;
      case 'x':
        mask = cv::Mat(5,5, CV_32F, lapl_gauss);
        printmask(mask);
        break;
      default:
        break;
    }
  }
  return 0;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-04-21 15:51:37 -0300
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/highlight.min.js"></script>
<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })
}
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>